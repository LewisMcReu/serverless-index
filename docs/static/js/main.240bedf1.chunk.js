(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),i=a.n(s),c=(a(15),a(6)),o=a(1),l=a(2),u=a(4),h=a(3),v=a(5),m=(a(17),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).getInitialState=function(){return{providers:void 0,services:void 0,load_failed:!1,selectedProviders:[],selectedTags:[],search:""}},a.state=a.getInitialState(),a.loadData(),a}return Object(v.a)(t,e),Object(l.a)(t,[{key:"loadData",value:function(){var e=this;fetch("/data.json").then(function(t){if(t.ok)return t.json();e.setState({load_failed:!0})}).then(function(t){e.setState({providers:t.providers,services:t.services.sort(function(e,t){return e.name-t.name}),tags:t.tags})})}},{key:"render",value:function(){var e=this,a=this.state,n=a.providers,s=a.load_failed,i=a.search,c=this.state.selectedProviders;0===c.length&&(c=n?Object.keys(n):[]);var o=this.state.selectedTags;0===o.length&&(o=void 0);var l=this.state.services;l=l?l.filter(function(e){return(e.name.toLowerCase().includes(i.toLowerCase())||e.tags.some(function(e){return e.toLowerCase().includes(i.toLowerCase())}))&&c.includes(e.provider)&&(!o||o.every(function(t){return e.tags.some(function(e){return e.toLowerCase().includes(t.toLowerCase())})}))}):void 0;var u=this.state.tags;return u=t.flatten(u),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Serverless Index")),r.a.createElement("main",null,s?r.a.createElement("p",{className:"error"},"Failed to load data"):"",r.a.createElement("div",null,r.a.createElement("h2",null,"Search"),r.a.createElement("div",{id:"search"},r.a.createElement(d,{name:"By name",onChange:function(t){return e.setState({search:t})}}),n?r.a.createElement(p,{name:"By provider",onChange:function(t){return e.setState({selectedProviders:t})},objects:Object.keys(n).map(function(e){return{key:e,value:n[e].name}})}):"",r.a.createElement(f,{name:"By tag",onChange:function(t){return e.setState({selectedTags:t})},searchOptions:u}))),r.a.createElement(g,{loading:!l,services:l,providers:n})))}}],[{key:"flatten",value:function(e){var t=[];for(var a in e)t=[].concat(Object(c.a)(t),Object(c.a)(e[a]));return t}}]),t}(n.Component)),d=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).getInitialState=function(){return{value:""}},a.state=a.getInitialState(),a}return Object(v.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({value:t}),this.props.onChange&&this.props.onChange(t)}},{key:"render",value:function(){var e=this.props.name;return r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{className:"main",htmlFor:e},e),r.a.createElement("input",{id:e,type:"text",onChange:this.onChange.bind(this)}))}}]),t}(n.Component),p=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).getInitialState=function(){var e=a.props.objects,t={},n=!0,r=!1,s=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){t[i.value.key]=!1}}catch(o){r=!0,s=o}finally{try{n||null==c.return||c.return()}finally{if(r)throw s}}return{values:t}},a.state=a.getInitialState(),a}return Object(v.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){var t=e.target,a=t.checked,n=t.value,r=this.state.values;r[n]=a,this.setState({values:r});var s=[];for(var i in r)r[i]&&s.push(i);this.props.onChange(s)}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.objects;return r.a.createElement("div",null,r.a.createElement("label",{className:"main"},a),n.map(function(t){return r.a.createElement("div",{key:t.key},r.a.createElement("input",{id:t.key,type:"checkbox",value:t.key,checked:e.state.values[t.key],onChange:e.onChange.bind(e)}),r.a.createElement("label",{htmlFor:t.key},t.value))}))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).getInitialState=function(){return{search:"",searches:[]}},a.state=a.getInitialState(),a}return Object(v.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){var t=e.target.value;this.setState({search:t})}},{key:"onKeyDown",value:function(e){if("Enter"===e.key){var t=this.state,a=t.searches,n=t.search;a.includes(n)||""===n?this.setState({search:""}):(a.push(n),this.setState({search:"",searches:a}),this.props.onChange(a))}}},{key:"removeSearch",value:function(e){var t=this.state.searches;t=t.filter(function(t){return t!==e}),this.setState({searches:t}),this.props.onChange(t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.searchOptions,n=t.name;return r.a.createElement("div",{className:"input-container multi-search"},r.a.createElement("label",{className:"main",htmlFor:n},n),a?r.a.createElement("datalist",{id:"search-data-"+n},a.map(function(e){return r.a.createElement("option",{key:e,value:e})})):"",r.a.createElement("input",{type:"search",id:n,value:this.state.search,onChange:this.onChange.bind(this),onKeyDown:this.onKeyDown.bind(this),list:"search-data-"+n}),r.a.createElement("div",{className:"searches"},this.state.searches.map(function(t){return r.a.createElement("span",{key:t,className:"search-item"},t,r.a.createElement("button",{onClick:e.removeSearch.bind(e,t)},"\xd7"))})))}}]),t}(n.Component),g=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.services;return e.loading?r.a.createElement("p",null,"Loading"):r.a.createElement("div",{id:"services"},t?t.map(this.renderItem.bind(this)):r.a.createElement("p",{className:"error"},"Invalid state (not loading but no services)"))}},{key:"renderItem",value:function(e){var t=this.props.providers[e.provider];return r.a.createElement("div",{key:e.name},r.a.createElement("a",{href:e.url,target:"_blank"},e.name),r.a.createElement("a",{href:t.url,target:"_blank"},t.name),r.a.createElement("div",{className:"tags"},e.tags.map(function(e){return r.a.createElement("span",{key:e},e)})))}}]),t}(n.Component),b=(n.Component,m);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(19)}},[[9,2,1]]]);
//# sourceMappingURL=main.240bedf1.chunk.js.map